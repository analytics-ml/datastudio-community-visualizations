!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("dscc",[],t):"object"==typeof exports?exports.dscc=t():e.dscc=t()}(window,function(){return function(e){var t={};function n(R){if(t[R])return t[R].exports;var o=t[R]={i:R,l:!1,exports:{}};return e[R].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,R){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:R})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/index.ts")}({"./node_modules/querystringify/index.js":function(e,t,n){"use strict";var R=Object.prototype.hasOwnProperty;function o(e){return decodeURIComponent(e.replace(/\+/g," "))}t.stringify=function(e,t){t=t||"";var n=[];for(var o in"string"!=typeof t&&(t="?"),e)R.call(e,o)&&n.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return n.length?t+n.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,R={};t=n.exec(e);){var r=o(t[1]),C=o(t[2]);r in R||(R[r]=C)}return R}},"./node_modules/requires-port/index.js":function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},"./node_modules/url-parse/index.js":function(e,t,n){"use strict";(function(t){var R=n("./node_modules/requires-port/index.js"),o=n("./node_modules/querystringify/index.js"),r=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,C=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,E=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],s={hash:1,query:1};function i(e){var n,R={},o=typeof(e=e||t.location||{});if("blob:"===e.protocol)R=new N(unescape(e.pathname),{});else if("string"===o)for(n in R=new N(e,{}),s)delete R[n];else if("object"===o){for(n in e)n in s||(R[n]=e[n]);void 0===R.slashes&&(R.slashes=C.test(e.href))}return R}function a(e){var t=r.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function N(e,t,n){if(!(this instanceof N))return new N(e,t,n);var r,C,s,u,c,_,U=E.slice(),f=typeof t,Y=this,l=0;for("object"!==f&&"string"!==f&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),t=i(t),r=!(C=a(e||"")).protocol&&!C.slashes,Y.slashes=C.slashes||r&&t.slashes,Y.protocol=C.protocol||t.protocol||"",e=C.rest,C.slashes||(U[2]=[/(.*)/,"pathname"]);l<U.length;l++)s=(u=U[l])[0],_=u[1],s!=s?Y[_]=e:"string"==typeof s?~(c=e.indexOf(s))&&("number"==typeof u[2]?(Y[_]=e.slice(0,c),e=e.slice(c+u[2])):(Y[_]=e.slice(c),e=e.slice(0,c))):(c=s.exec(e))&&(Y[_]=c[1],e=e.slice(0,c.index)),Y[_]=Y[_]||r&&u[3]&&t[_]||"",u[4]&&(Y[_]=Y[_].toLowerCase());n&&(Y.query=n(Y.query)),r&&t.slashes&&"/"!==Y.pathname.charAt(0)&&(""!==Y.pathname||""!==t.pathname)&&(Y.pathname=function(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),R=n.length,o=n[R-1],r=!1,C=0;R--;)"."===n[R]?n.splice(R,1):".."===n[R]?(n.splice(R,1),C++):C&&(0===R&&(r=!0),n.splice(R,1),C--);return r&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(Y.pathname,t.pathname)),R(Y.port,Y.protocol)||(Y.host=Y.hostname,Y.port=""),Y.username=Y.password="",Y.auth&&(u=Y.auth.split(":"),Y.username=u[0]||"",Y.password=u[1]||""),Y.origin=Y.protocol&&Y.host&&"file:"!==Y.protocol?Y.protocol+"//"+Y.host:"null",Y.href=Y.toString()}N.prototype={set:function(e,t,n){var r=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||o.parse)(t)),r[e]=t;break;case"port":r[e]=t,R(t,r.protocol)?t&&(r.host=r.hostname+":"+t):(r.host=r.hostname,r[e]="");break;case"hostname":r[e]=t,r.port&&(t+=":"+r.port),r.host=t;break;case"host":r[e]=t,/:\d+$/.test(t)?(t=t.split(":"),r.port=t.pop(),r.hostname=t.join(":")):(r.hostname=t,r.port="");break;case"protocol":r.protocol=t.toLowerCase(),r.slashes=!n;break;case"pathname":case"hash":if(t){var C="pathname"===e?"/":"#";r[e]=t.charAt(0)!==C?C+t:t}else r[e]=t;break;default:r[e]=t}for(var s=0;s<E.length;s++){var i=E[s];i[4]&&(r[i[1]]=r[i[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,n=this,R=n.protocol;R&&":"!==R.charAt(R.length-1)&&(R+=":");var r=R+(n.slashes?"//":"");return n.username&&(r+=n.username,n.password&&(r+=":"+n.password),r+="@"),r+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(r+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(r+=n.hash),r}},N.extractProtocol=a,N.location=i,N.qs=o,e.exports=N}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./src/index.ts":function(e,t,n){"use strict";var R=this&&this.__assign||function(){return(R=Object.assign||function(e){for(var t,n=1,R=arguments.length;n<R;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/url-parse/index.js"),r=n("./src/types.ts");!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n("./src/types.ts")),t.getWidth=function(){return document.body.clientWidth},t.getHeight=function(){return document.documentElement.clientHeight};t.parseImage=function(e){var t=e.split("  "),n=t[0],R=t[1];return{altText:t[2],originalUrl:n,proxiedUrl:R}};var C=function(e){return e.fields.reduce(function(e,t){return e[t.id]=t,e},{})},E=function(e){return e.type===r.ConfigDataElementType.DIMENSION||e.type===r.ConfigDataElementType.METRIC},s=function(e){return e===r.ConfigDataElementType.DIMENSION?-1:1},i=function(e){var t=[];e.config.data.forEach(function(e){e.elements.forEach(function(e){t.push(e)})});var n,R=t.filter(E),o=[];return(n=function(e,t){return s(e.type)-s(t.type)},R.map(function(e,t){return{item:e,index:t}}).sort(function(e,t){return n(e.item,t.item)||e.index-t.index}).map(function(e){return e.item})).forEach(function(e){e.value.forEach(function(){return o.push(e.id)})}),o};t.fieldsByConfigId=function(e){var t=C(e),n={};return e.config.data.forEach(function(e){e.elements.forEach(function(e){n[e.id]=e.value.map(function(e){return t[e]})})}),n};var a=function(e){var t={};return(e.config.style||[]).forEach(function(e){e.elements.forEach(function(e){if(void 0!==t[e.id])throw new Error("styleIds must be unique. Your styleId: '"+e.id+"' is used more than once.");t[e.id]={value:e.value,defaultValue:e.defaultValue}})},{}),t};t.tableTransform=function(e){return{tables:function(e){var n,o=t.fieldsByConfigId(e),E={},s=i(e).map(function(e){void 0===E[e]?E[e]=0:E[e]++;var t=E[e],n=o[e][t];return R({},n,{configId:e})}),a=(C(e),(n={})[r.TableType.DEFAULT]={headers:[],rows:[]},n);return e.dataResponse.tables.forEach(function(e){a[e.id]={headers:s,rows:e.rows}}),a}(e),fields:t.fieldsByConfigId(e),style:a(e)}},t.objectTransform=function(e){return{tables:function(e){var t,n=i(e),R=(C(e),(t={})[r.TableType.DEFAULT]=[],t);return e.dataResponse.tables.forEach(function(e){var t=e.rows.map(function(e){return function(t){var n,R,o={};return(n=t,R=e,n.length<R.length?n.map(function(e,t){return[e,R[t]]}):R.map(function(e,t){return[n[t],e]})).forEach(function(e){var t=e[0],n=e[1];void 0===o[n]&&(o[n]=[]),o[n].push(t)},{}),o}}(n));R[e.id]=t}),R}(e),fields:t.fieldsByConfigId(e),style:a(e)}},t.subscribeToData=function(e,n){if(n.transform===t.tableTransform||n.transform===t.objectTransform){var R=function(t){t.data.type===r.MessageType.RENDER?e(n.transform(t.data)):console.error("MessageType: "+t.data.type+" is not supported by this version of the library.")};window.addEventListener("message",R);var C=o(window.parent.location.href,!0).query.componentId;return window.parent.postMessage({componentId:C,type:"vizReady"},"*"),function(){return window.removeEventListener("message",R)}}throw new Error("Only the built in transform functions are supported.")}},"./src/types.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.METRIC="METRIC",e.DIMENSION="DIMENSION"}(t.ConceptType||(t.ConceptType={})),function(e){e.RENDER="RENDER"}(t.MessageType||(t.MessageType={})),function(e){e.YEAR="YEAR",e.YEAR_QUARTER="YEAR_QUARTER",e.YEAR_MONTH="YEAR_MONTH",e.YEAR_WEEK="YEAR_WEEK",e.YEAR_MONTH_DAY="YEAR_MONTH_DAY",e.YEAR_MONTH_DAY_HOUR="YEAR_MONTH_DAY_HOUR",e.QUARTER="QUARTER",e.MONTH="MONTH",e.WEEK="WEEK",e.MONTH_DAY="MONTH_DAY",e.DAY_OF_WEEK="DAY_OF_WEEK",e.DAY="DAY",e.HOUR="HOUR",e.MINUTE="MINUTE",e.DURATION="DURATION",e.COUNTRY="COUNTRY",e.COUNTRY_CODE="COUNTRY_CODE",e.CONTINENT="CONTINENT",e.CONTINENT_CODE="CONTINENT_CODE",e.SUB_CONTINENT="SUB_CONTINENT",e.SUB_CONTINENT_CODE="SUB_CONTINENT_CODE",e.REGION="REGION",e.REGION_CODE="REGION_CODE",e.CITY="CITY",e.CITY_CODE="CITY_CODE",e.METRO_CODE="METRO_CODE",e.LATITUDE_LONGITUDE="LATITUDE_LONGITUDE",e.NUMBER="NUMBER",e.PERCENT="PERCENT",e.TEXT="TEXT",e.BOOLEAN="BOOLEAN",e.URL="URL",e.IMAGE="IMAGE",e.CURRENCY_AED="CURRENCY_AED",e.CURRENCY_ALL="CURRENCY_ALL",e.CURRENCY_ARS="CURRENCY_ARS",e.CURRENCY_AUD="CURRENCY_AUD",e.CURRENCY_BDT="CURRENCY_BDT",e.CURRENCY_BGN="CURRENCY_BGN",e.CURRENCY_BOB="CURRENCY_BOB",e.CURRENCY_BRL="CURRENCY_BRL",e.CURRENCY_CAD="CURRENCY_CAD",e.CURRENCY_CDF="CURRENCY_CDF",e.CURRENCY_CHF="CURRENCY_CHF",e.CURRENCY_CLP="CURRENCY_CLP",e.CURRENCY_CNY="CURRENCY_CNY",e.CURRENCY_COP="CURRENCY_COP",e.CURRENCY_CRC="CURRENCY_CRC",e.CURRENCY_CZK="CURRENCY_CZK",e.CURRENCY_DKK="CURRENCY_DKK",e.CURRENCY_DOP="CURRENCY_DOP",e.CURRENCY_EGP="CURRENCY_EGP",e.CURRENCY_ETB="CURRENCY_ETB",e.CURRENCY_EUR="CURRENCY_EUR",e.CURRENCY_GBP="CURRENCY_GBP",e.CURRENCY_HKD="CURRENCY_HKD",e.CURRENCY_HRK="CURRENCY_HRK",e.CURRENCY_HUF="CURRENCY_HUF",e.CURRENCY_IDR="CURRENCY_IDR",e.CURRENCY_ILS="CURRENCY_ILS",e.CURRENCY_INR="CURRENCY_INR",e.CURRENCY_IRR="CURRENCY_IRR",e.CURRENCY_ISK="CURRENCY_ISK",e.CURRENCY_JMD="CURRENCY_JMD",e.CURRENCY_JPY="CURRENCY_JPY",e.CURRENCY_KRW="CURRENCY_KRW",e.CURRENCY_LKR="CURRENCY_LKR",e.CURRENCY_LTL="CURRENCY_LTL",e.CURRENCY_MNT="CURRENCY_MNT",e.CURRENCY_MVR="CURRENCY_MVR",e.CURRENCY_MXN="CURRENCY_MXN",e.CURRENCY_MYR="CURRENCY_MYR",e.CURRENCY_NOK="CURRENCY_NOK",e.CURRENCY_NZD="CURRENCY_NZD",e.CURRENCY_PAB="CURRENCY_PAB",e.CURRENCY_PEN="CURRENCY_PEN",e.CURRENCY_PHP="CURRENCY_PHP",e.CURRENCY_PKR="CURRENCY_PKR",e.CURRENCY_PLN="CURRENCY_PLN",e.CURRENCY_RON="CURRENCY_RON",e.CURRENCY_RSD="CURRENCY_RSD",e.CURRENCY_RUB="CURRENCY_RUB",e.CURRENCY_SAR="CURRENCY_SAR",e.CURRENCY_SEK="CURRENCY_SEK",e.CURRENCY_SGD="CURRENCY_SGD",e.CURRENCY_THB="CURRENCY_THB",e.CURRENCY_TRY="CURRENCY_TRY",e.CURRENCY_TWD="CURRENCY_TWD",e.CURRENCY_TZS="CURRENCY_TZS",e.CURRENCY_UAH="CURRENCY_UAH",e.CURRENCY_USD="CURRENCY_USD",e.CURRENCY_UYU="CURRENCY_UYU",e.CURRENCY_VEF="CURRENCY_VEF",e.CURRENCY_VND="CURRENCY_VND",e.CURRENCY_YER="CURRENCY_YER",e.CURRENCY_ZAR="CURRENCY_ZAR"}(t.FieldType||(t.FieldType={})),function(e){e.DEFAULT="DEFAULT",e.COMPARISON="COMPARISON",e.SUMMARY="SUMMARY"}(t.TableType||(t.TableType={})),function(e){e.METRIC="METRIC",e.DIMENSION="DIMENSION",e.SORT="SORT",e.MAX_RESULTS="MAX_RESULTS"}(t.ConfigDataElementType||(t.ConfigDataElementType={})),function(e){e.TEXTINPUT="TEXTINPUT",e.SELECT_SINGLE="SELECT_SINGLE",e.CHECKBOX="CHECKBOX",e.FONT_COLOR="FONT_COLOR",e.FONT_SIZE="FONT_SIZE",e.FONT_FAMILY="FONT_FAMILY",e.FILL_COLOR="FILL_COLOR",e.BORDER_COLOR="BORDER_COLOR",e.AXIS_COLOR="AXIS_COLOR",e.GRID_COLOR="GRID_COLOR",e.OPACITY="OPACITY",e.LINE_WEIGHT="LINE_WEIGHT",e.LINE_STYLE="LINE_STYLE",e.BORDER_RADIUS="BORDER_RADIUS",e.INTERVAL="INTERVAL",e.SELECT_RADIO="SELECT_RADIO"}(t.ConfigStyleElementType||(t.ConfigStyleElementType={}))}})});